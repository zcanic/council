# ğŸš€ Parliament Loop SNSçº§åˆ«ç”¨æˆ·ä½“éªŒå‡çº§æ–¹æ¡ˆ

## ğŸ“Š å½“å‰çŠ¶æ€vsç›®æ ‡å¯¹æ¯”

### ç°æœ‰ä½“éªŒé—®é¢˜
- âŒ æ“ä½œåéœ€ç­‰å¾…1åˆ†é’Ÿæ‰çœ‹åˆ°ç»“æœ
- âŒ é¡µé¢åˆ·æ–°é¢‘ç¹ï¼Œç”¨æˆ·ä½“éªŒæ–­è£‚
- âŒ ç¼ºå°‘å®æ—¶çŠ¶æ€åé¦ˆ
- âŒ é”™è¯¯å¤„ç†ç²—ç³™ï¼Œç”¨æˆ·è¿·èŒ«

### SNSçº§åˆ«ç›®æ ‡
- âœ… **0-100ms** ç«‹å³è§†è§‰åé¦ˆï¼ˆä¹è§‚æ›´æ–°ï¼‰
- âœ… **1-3ç§’** åç«¯ç¡®è®¤å’ŒåŒæ­¥
- âœ… **æ™ºèƒ½é‡è¯•** ç½‘ç»œé”™è¯¯è‡ªåŠ¨æ¢å¤
- âœ… **ç»†è…»åŠ¨æ•ˆ** Twitterçº§åˆ«çš„å¾®äº¤äº’

## ğŸ¯ æ ¸å¿ƒå‡çº§ç»„ä»¶

### 1. ä¹è§‚æ›´æ–°ç®¡ç†å™¨ (`optimistic-manager.ts`)
**ä½œç”¨**: ç±»ä¼¼Reduxçš„çŠ¶æ€ç®¡ç†ï¼Œä½†ä¸“æ³¨äºä¹è§‚æ›´æ–°
- ç«‹å³æ›´æ–°UIï¼ˆ0mså»¶è¿Ÿï¼‰
- æ™ºèƒ½é”™è¯¯æ£€æµ‹å’Œå›æ»š
- æŒ‡æ•°é€€é¿é‡è¯•æœºåˆ¶
- ç½‘ç»œé”™è¯¯vsä¸šåŠ¡é”™è¯¯åˆ†ç±»å¤„ç†

### 2. å®æ—¶æ•°æ®Hooks (`useRealtimeData.ts`)
**ä½œç”¨**: ç±»ä¼¼SWR/React-Queryï¼Œä½†æ›´é€‚åˆSNSåœºæ™¯
- è‡ªåŠ¨åå°åˆ·æ–°ï¼ˆ30ç§’é—´éš”ï¼‰
- æ•°æ®è¿‡æœŸæ£€æµ‹ï¼ˆ1åˆ†é’Ÿè¿‡æœŸï¼‰
- é¡µé¢å¯è§æ€§ä¼˜åŒ–
- æ™ºèƒ½ç¼“å­˜ç­–ç•¥

### 3. å¾®äº¤äº’ç»„ä»¶ (`SNSMicroInteractions.tsx`)
**ä½œç”¨**: Twitterçº§åˆ«çš„è§†è§‰åé¦ˆç³»ç»Ÿ
- `SmartLoading`: æ™ºèƒ½loadingçŠ¶æ€
- `ActionFeedback`: æ“ä½œæˆåŠŸ/å¤±è´¥åé¦ˆ
- `ProgressiveContent`: æ¸è¿›å¼å†…å®¹å±•ç¤º
- `RealtimeIndicator`: å®æ—¶è¿æ¥çŠ¶æ€

## ğŸ”„ ç”¨æˆ·æ“ä½œæµç¨‹ä¼˜åŒ–

### å‘å¸ƒè¯„è®ºä½“éªŒå‡çº§

**ä¹‹å‰çš„æµç¨‹:**
```
ç”¨æˆ·ç‚¹å‡» â†’ ç­‰å¾…1åˆ†é’Ÿ â†’ çœ‹åˆ°ç»“æœ
(ç”¨æˆ·ä½“éªŒ: ğŸ˜° æ¼«é•¿ç­‰å¾…)
```

**SNSçº§åˆ«æµç¨‹:**
```
ç”¨æˆ·ç‚¹å‡» â†’ ç«‹å³æ˜¾ç¤ºè¯„è®º(åŠé€æ˜) â†’ 0.5ç§’åç¡®è®¤ â†’ å®Œå…¨æ˜¾ç¤º
         â†“
       å¦‚æœå¤±è´¥ â†’ è‡ªåŠ¨é‡è¯•3æ¬¡ â†’ æ˜¾ç¤ºé‡è¯•æŒ‰é’® â†’ ç”¨æˆ·ç¡®è®¤é‡è¯•
(ç”¨æˆ·ä½“éªŒ: ğŸ˜Š å³æ—¶åé¦ˆ + æ™ºèƒ½æ¢å¤)
```

### åˆ›å»ºè®®é¢˜ä½“éªŒå‡çº§

**ä¹è§‚æ›´æ–°ç­–ç•¥:**
1. **ç«‹å³æ˜¾ç¤º**: æ–°è®®é¢˜ç«‹å³å‡ºç°åœ¨åˆ—è¡¨é¡¶éƒ¨ï¼ˆå¸¦pendingæ ‡è®°ï¼‰
2. **æ¸è¿›ç¡®è®¤**: 0.5-2ç§’åç§»é™¤pendingæ ‡è®°
3. **å¤±è´¥å¤„ç†**: å¦‚æœå¤±è´¥ï¼Œè®®é¢˜å˜çº¢è‰²å¹¶æ˜¾ç¤ºé‡è¯•é€‰é¡¹

## ğŸ› ï¸ å®æ–½æ­¥éª¤

### é˜¶æ®µ1: æ ¸å¿ƒåŸºç¡€è®¾æ–½ (å·²å®Œæˆ)
- âœ… ä¹è§‚æ›´æ–°ç®¡ç†å™¨
- âœ… å®æ—¶æ•°æ®Hooks
- âœ… SNSå¾®äº¤äº’ç»„ä»¶

### é˜¶æ®µ2: ç»„ä»¶å‡çº§
- ğŸ”„ CommentForm SNSçº§åˆ«å‡çº§ (è¿›è¡Œä¸­)
- â³ TopicLobbyå®æ—¶åŒ–å‡çº§
- â³ TopicSpaceä¹è§‚æ›´æ–°

### é˜¶æ®µ3: é«˜çº§ç‰¹æ€§
- â³ å¤šç”¨æˆ·å®æ—¶çŠ¶æ€åŒæ­¥
- â³ ç¦»çº¿æ”¯æŒå’Œé˜Ÿåˆ—æœºåˆ¶
- â³ é¢„æµ‹æ€§é¢„åŠ è½½

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡å¯¹æ¯”

| æ“ä½œ | å½“å‰ä½“éªŒ | SNSç›®æ ‡ | æ”¹å–„åº¦ |
|-----|---------|---------|--------|
| å‘å¸ƒè¯„è®º | 60s | 0.1s + 2sç¡®è®¤ | **96%** |
| åˆ›å»ºè®®é¢˜ | 30s | 0.1s + 1sç¡®è®¤ | **97%** |
| åˆ—è¡¨åˆ·æ–° | æ‰‹åŠ¨ | è‡ªåŠ¨30s | **æ— é™** |
| é”™è¯¯æ¢å¤ | æ‰‹åŠ¨é‡è¯• | æ™ºèƒ½é‡è¯• | **300%** |
| è§†è§‰åé¦ˆ | æ—  | å®æ—¶çŠ¶æ€ | **æ–°åŠŸèƒ½** |

## ğŸ§ª ç”¨æˆ·æµ‹è¯•åœºæ™¯

### åœºæ™¯1: å‘å¸ƒè¯„è®º
1. ç”¨æˆ·åœ¨è®®é¢˜ä¸‹è¾“å…¥è¯„è®º
2. ç‚¹å‡»"å‘å¸ƒ" â†’ è¯„è®ºç«‹å³æ˜¾ç¤ºï¼ˆåŠé€æ˜ï¼‰
3. 0.5ç§’åå˜ä¸ºæ­£å¸¸æ˜¾ç¤ºï¼Œæ˜¾ç¤º"å‘å¸ƒæˆåŠŸ"æç¤º
4. å¦‚æœç½‘ç»œå·®ï¼Œæ˜¾ç¤ºé‡è¯•é€‰é¡¹

### åœºæ™¯2: ç½‘ç»œä¸­æ–­æ¢å¤
1. ç”¨æˆ·åœ¨ç½‘ç»œå·®çš„ç¯å¢ƒä¸‹æ“ä½œ
2. æ“ä½œå¤±è´¥åè‡ªåŠ¨é‡è¯•3æ¬¡
3. ä»å¤±è´¥åˆ™æ˜¾ç¤ºæ˜ç¡®çš„é‡è¯•æŒ‰é’®
4. ç½‘ç»œæ¢å¤åæ“ä½œé˜Ÿåˆ—è‡ªåŠ¨æ‰§è¡Œ

### åœºæ™¯3: å¤šç”¨æˆ·åä½œ
1. ç”¨æˆ·Aå‘å¸ƒè¯„è®ºåï¼Œç”¨æˆ·Bç«‹å³èƒ½çœ‹åˆ°
2. ç¬¬10æ¡è¯„è®ºè§¦å‘æ—¶ï¼Œæ‰€æœ‰ç”¨æˆ·åŒæ­¥çœ‹åˆ°é”å®šçŠ¶æ€
3. AIæ‘˜è¦ç”Ÿæˆæ—¶ï¼Œæ˜¾ç¤ºå®æ—¶è¿›åº¦

## ğŸ® éƒ¨ç½²å’Œæµ‹è¯•

### 1. æœ¬åœ°æµ‹è¯•
```bash
npm run dev
# æµ‹è¯•ä¹è§‚æ›´æ–°æ˜¯å¦å·¥ä½œ
# æµ‹è¯•ç½‘ç»œä¸­æ–­æ¢å¤
# æµ‹è¯•å¤šçª—å£åŒæ­¥
```

### 2. æœåŠ¡å™¨éƒ¨ç½²
```bash
# ä¸Šä¼ SNSå‡çº§æ–‡ä»¶
./scripts/update.sh

# è¿è¡Œæ€§èƒ½æµ‹è¯•
./scripts/performance-test.sh

# ç›‘æ§ç”¨æˆ·ä½“éªŒæŒ‡æ ‡
./scripts/monitor-ux.sh
```

### 3. ç”¨æˆ·ä½“éªŒéªŒè¯
- [ ] è¯„è®ºå‘å¸ƒç«‹å³å¯è§
- [ ] ç½‘ç»œé”™è¯¯è‡ªåŠ¨é‡è¯•
- [ ] æ“ä½œçŠ¶æ€æ¸…æ™°åé¦ˆ
- [ ] åŠ¨ç”»æµç•…è‡ªç„¶
- [ ] å¤šç”¨æˆ·çŠ¶æ€åŒæ­¥

## ğŸ”® æœªæ¥æ‰©å±•

### WebSocketå®æ—¶åŒæ­¥
```typescript
// çœŸæ­£çš„å¤šç”¨æˆ·å®æ—¶åŒæ­¥
const wsManager = new WebSocketManager();
wsManager.on('comment:new', (comment) => {
  optimisticManager.syncServerData('comment', comment);
});
```

### ç¦»çº¿é˜Ÿåˆ—æœºåˆ¶
```typescript
// ç¦»çº¿æ—¶çš„æ“ä½œé˜Ÿåˆ—
const offlineQueue = new OfflineQueue();
offlineQueue.add('comment:create', commentData);
// ç½‘ç»œæ¢å¤åè‡ªåŠ¨æ‰§è¡Œé˜Ÿåˆ—
```

### AIçŠ¶æ€é¢„æµ‹
```typescript
// é¢„æµ‹ç”¨æˆ·ä¸‹ä¸€æ­¥æ“ä½œï¼Œé¢„åŠ è½½æ•°æ®
const aiPredictor = new UserActionPredictor();
if (aiPredictor.willCreateComment()) {
  preloadTopicData();
}
```

---

**ğŸ¯ ç›®æ ‡è¾¾æˆæ ‡å‡†**: å½“ç”¨æˆ·æ“ä½œåèƒ½åœ¨100mså†…çœ‹åˆ°è§†è§‰åé¦ˆï¼Œå¹¶åœ¨3ç§’å†…å®Œæˆå®Œæ•´åŒæ­¥ï¼Œå°±è¾¾åˆ°äº†SNSçº§åˆ«çš„ç”¨æˆ·ä½“éªŒæ ‡å‡†ã€‚
